# π“ λ°μ΄ν„° μ¤‘μ‹¬ μ• ν”λ¦¬μΌ€μ΄μ… μ„¤κ³„

## Chapter 4. λ¶€νΈν™”μ™€ λ°μ „

---

## 1. ν• μ¤„ μ”μ•½ 

μ΄ μ¥μ€ λ³€ν™”ν•λ” μ‹μ¤ν… ν™κ²½ μ†μ—μ„λ„ λ°μ΄ν„°λ¥Ό μ•μ „ν•κ² μ €μ¥ν•κ³  μ „λ‹¬ν•κΈ° μ„ν•΄, λ¶€νΈν™” λ°©μ‹κ³Ό μ¤ν‚¤λ§ νΈν™μ„±μ„ μ–΄λ–»κ² μ„¤κ³„ν•΄μ•Ό ν•λ”μ§€λ¥Ό μ„¤λ…ν•λ‹¤.

---

## 2. λ“¤μ–΄κ°€λ©°

μ• ν”λ¦¬μΌ€μ΄μ…μ€ μ‚¬μ©μ μ”κµ¬μ‚¬ν•­μ΄λ‚ λΉ„μ¦λ‹μ¤ ν™κ²½ λ³€ν™”μ— λ”°λΌ μ§€μ†μ μΌλ΅ κΈ°λ¥μ΄ μ¶”κ°€λκ±°λ‚ λ³€κ²½λλ‹¤.

λ€λ¶€λ¶„μ κ²½μ° μ΄λ¬ν• κΈ°λ¥ λ³€κ²½μ€ μ €μ¥ν•λ” λ°μ΄ν„° κµ¬μ΅°μ λ³€κ²½μΌλ΅ μ΄μ–΄μ§„λ‹¤.

λ°μ΄ν„° νƒ€μ…μ΄λ‚ μ¤ν‚¤λ§κ°€ λ³€κ²½λλ©΄ μ• ν”λ¦¬μΌ€μ΄μ… μ½”λ“ μ—­μ‹ μμ •μ΄ ν•„μ”ν•λ‹¤.

ν•μ§€λ§ λ€κ·λ¨ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„λ” λ¨λ“  μ‹μ¤ν…μ„ λ™μ‹μ— μ—…λ°μ΄νΈν•λ” κ²ƒμ΄ ν„μ‹¤μ μΌλ΅ μ–΄λ µλ‹¤.

- μ„λ²„ μΈ΅ μ• ν”λ¦¬μΌ€μ΄μ…μ€ μνμ‹ μ—…κ·Έλ μ΄λ“λ¥Ό ν†µν•΄ μ„λΉ„μ¤ μ¤‘λ‹¨ μ—†μ΄ μƒλ΅μ΄ λ²„μ „μ„ λ°°ν¬ν•  μ μλ‹¤.
- ν΄λΌμ΄μ–ΈνΈ μΈ΅ μ• ν”λ¦¬μΌ€μ΄μ…μ€ μ‚¬μ©μκ°€ μ—…λ°μ΄νΈλ¥Ό μ„ νƒν•μ§€ μ•μΌλ©΄ μ΄μ „ λ²„μ „μ΄ κ³„μ† μ‚¬μ©λλ‹¤.

μ΄λ΅ μΈν•΄ μ‹μ¤ν…μ—λ” λ‹¤μμ΄ λ™μ‹μ— κ³µμ΅΄ν•κ² λλ‹¤.

- μμ „ λ²„μ „μ μ½”λ“μ™€ μƒλ΅μ΄ λ²„μ „μ μ½”λ“
- μμ „ λ°μ΄ν„° ν•μ‹κ³Ό μƒλ΅μ΄ λ°μ΄ν„° ν•μ‹

μ‹μ¤ν…μ΄ κ³„μ† μ •μƒμ μΌλ΅ λ™μ‘ν•λ ¤λ©΄ **μ–‘λ°©ν–¥ νΈν™μ„±**μ„ μ μ§€ν•΄μ•Ό ν•λ‹¤.

---

## 3. νΈν™μ„± κ°λ… μ •λ¦¬

### ν•μ„ νΈν™μ„± (Backward Compatibility)

μƒλ΅μ΄ μ½”λ“λ” μμ „ μ½”λ“κ°€ κΈ°λ΅ν• λ°μ΄ν„°λ¥Ό μ½μ„ μ μμ–΄μ•Ό ν•λ‹¤.

μ„λ²„ μ—…κ·Έλ μ΄λ“ μ‹ νΉν μ¤‘μ”ν•λ‹¤.

### μƒμ„ νΈν™μ„± (Forward Compatibility)

μμ „ μ½”λ“λ” μƒλ΅μ΄ μ½”λ“κ°€ κΈ°λ΅ν• λ°μ΄ν„°λ¥Ό μ½μ„ μ μμ–΄μ•Ό ν•λ‹¤.

λ¨λ°”μΌμ΄λ‚ λ°μ¤ν¬ν†± ν΄λΌμ΄μ–ΈνΈ ν™κ²½μ—μ„ μ¤‘μ”ν•λ‹¤.

---

## 4. λ°μ΄ν„° λ¶€νΈν™”μ κΈ°λ³Έ κ°λ…

### λ¶€νΈν™”(Encoding)

μ• ν”λ¦¬μΌ€μ΄μ…μ λ°μ΄ν„° κµ¬μ΅°λ¥Ό λ°”μ΄νΈμ—΄λ΅ λ³€ν™ν•λ” κ³Όμ •

μ§λ ¬ν™”, λ§μƒ¬λ§μ΄λΌκ³ λ„ ν•λ‹¤.

### λ³µνΈν™”(Decoding)

λ°”μ΄νΈμ—΄μ„ λ‹¤μ‹ λ°μ΄ν„° κµ¬μ΅°λ΅ λ³€ν™ν•λ” κ³Όμ • 

μ—­μ§λ ¬ν™”, μ–Έλ§μƒ¬λ§μ΄λΌκ³ λ„ ν•λ‹¤.


---

## 5. JSON, XML, CSVμ ν•κ³„

### 5.1 μ«μ ν‘ν„μ λ¬Έμ 

- XMLκ³Ό CSVλ” μ«μμ™€ λ¬Έμμ—΄μ„ λ…ν™•ν κµ¬λ¶„ν•  μ μ—†λ‹¤.
- JSONμ€ λ¬Έμμ—΄κ³Ό μ«μλ¥Ό κµ¬λ¶„ν•μ§€λ§ μ •μμ™€ λ¶€λ™μ†μμ  μλ¥Ό κµ¬λ¶„ν•μ§€ μ•λ”λ‹¤.
- ν° μλ‚ κΈμµ λ°μ΄ν„° μ²λ¦¬ μ‹ μ •λ°€λ„ μ†μ‹¤ λ¬Έμ κ°€ λ°μƒν•  μ μλ‹¤.

### 5.2 μ΄μ§„ λ°μ΄ν„° λ―Έμ§€μ›

- JSONκ³Ό XMLμ€ μμν• λ°”μ΄νΈ λ°°μ—΄μ„ μ§μ ‘ ν‘ν„ν•  μ μ—†λ‹¤.
- Base64 μΈμ½”λ”© κ°™μ€ μ°ν λ°©μ‹μ΄ ν•„μ”ν•λ©°, μ΄λ΅ μΈν•΄ λ°μ΄ν„° ν¬κΈ°κ°€ μ¦κ°€ν•λ‹¤.

### 5.3 μ¤ν‚¤λ§ κ΄€λ¦¬μ μ–΄λ ¤μ›€

- XMLκ³Ό JSON μ¤ν‚¤λ§ μ–Έμ–΄λ” κ°•λ ¥ν•μ§€λ§ λ³µμ΅ν•κ³  ν•™μµ λΉ„μ©μ΄ ν¬λ‹¤.
- CSVλ” μ¤ν‚¤λ§ μμ²΄κ°€ μ—†κΈ° λ•λ¬Έμ— κ° μ»¬λΌμ μλ―Έλ¥Ό μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ§μ ‘ κ΄€λ¦¬ν•΄μ•Ό ν•λ‹¤.

μ΄ ν¬λ§·λ“¤μ€ μ‚¬λμ΄ μ½κΈ°μ—λ” νΈλ¦¬ν•μ§€λ§, μ¥κΈ°μ μΌλ΅ μ§„ν™”ν•λ” μ‹μ¤ν…μ—λ” μ ν•©ν•μ§€ μ•λ‹¤.

---

## 6. μ΄μ§„ λ¶€νΈν™”(Binary Encoding)

μ΄μ§„ λ¶€νΈν™”λ” μ‚¬λμ΄ μ§μ ‘ μ½κΈ° μ–΄λ µμ§€λ§ λ‹¤μκ³Ό κ°™μ€ μ¥μ μ΄ μλ‹¤.

- λ°μ΄ν„° ν¬κΈ°κ°€ μ‘λ‹¤.
- νμ‹± μ†λ„κ°€ λΉ λ¥΄λ‹¤.
- λ°μ΄ν„° νƒ€μ…μ΄ λ…ν™•ν•κ² μ μ§€λλ‹¤.

κ°™μ€ λ°μ΄ν„°λ¥Ό κΈ°μ¤€μΌλ΅ λ³΄λ©΄ JSON ν…μ¤νΈ ν•μ‹μ€ μ•½ 81λ°”μ΄νΈ, μ΄μ§„ λ¶€νΈν™”λ” μ•½ 66λ°”μ΄νΈ μ΄ν•λ΅ ν‘ν„ν•  μ μλ‹¤.

---

## 7. μ¤λ¦¬ν”„νΈ(Thrift)μ™€ ν”„λ΅ν† μ½ λ²„νΌ(Protobuf)

### 7.1 κ³µν†µ νΉμ§•

- λ…μ‹μ μΈ μ¤ν‚¤λ§κ°€ ν•„μ”ν•λ‹¤.
- μ¤ν‚¤λ§λ¥Ό κΈ°λ°μΌλ΅ μ—¬λ¬ μ–Έμ–΄μ© μ½”λ“λ¥Ό μλ™ μƒμ„±ν•λ‹¤.
- μ΄μ§„ λ¶€νΈν™” λ°©μ‹μ„ μ‚¬μ©ν•λ‹¤.
- μ›κ²© ν”„λ΅μ‹μ € νΈμ¶(RPC) μ‹μ¤ν…μ—μ„ λ§μ΄ μ‚¬μ©λλ‹¤.

### 7.2 ν•„λ“ νƒκ·Έ(Field Tag)

- κ° ν•„λ“λ” μ«μ νƒκ·Έλ΅ μ‹λ³„λλ‹¤.
- ν•„λ“ μ΄λ¦„μ€ λ¶€νΈν™”λ λ°μ΄ν„°μ— ν¬ν•¨λμ§€ μ•λ”λ‹¤.
- νƒκ·Έ λ²νΈλ” ν•„λ“μ μ •μ²΄μ„±μ„ λ‚νƒ€λ‚΄λ©° λ³€κ²½ν•  μ μ—†λ‹¤.

---

## 8. μ¤λ¦¬ν”„νΈμ™€ ν”„λ΅ν† μ½ λ²„νΌμ μ¤ν‚¤λ§ λ°μ „κ³Ό νΈν™μ„±

### 8.1 μƒμ„ νΈν™μ„±

- μƒλ΅μ΄ ν•„λ“λ¥Ό μ¶”κ°€ν•  λ•λ” μƒλ΅μ΄ νƒκ·Έ λ²νΈλ¥Ό μ‚¬μ©ν•λ‹¤.
- μμ „ μ½”λ“λ” μ• μ μ—†λ” νƒκ·Έλ¥Ό λ¬΄μ‹ν•λ‹¤.
- κΈ°μ΅΄ νƒκ·Έ λ²νΈλ¥Ό λ³€κ²½ν•λ©΄ μμ „ λ°μ΄ν„°μ™€ νΈν™λμ§€ μ•λ”λ‹¤.

### 8.2 ν•μ„ νΈν™μ„±

- μƒλ΅μ΄ μ½”λ“λ” μμ „ λ°μ΄ν„°λ¥Ό μ½μ„ μ μλ‹¤.
- μ΄κΈ° λ°°ν¬ μ΄ν›„ μ¶”κ°€λλ” ν•„λ“λ” optional μ΄κ±°λ‚ κΈ°λ³Έκ°’μ„ κ°€μ Έμ•Ό ν•λ‹¤.

---

## 9. λ°μ΄ν„° νƒ€μ…κ³Ό μ»¬λ ‰μ… λ³€κ²½

λ°μ΄ν„° νƒ€μ… λ³€κ²½μ€ κ°€λ¥ν•μ§€λ§ λ‹¤μκ³Ό κ°™μ€ μ„ν—μ΄ μλ‹¤.

- κ°’ μ†μ‹¤
- μ •λ°€λ„ μ €ν•

### 9.1 Protobufμ νΉμ§•

- λ©λ΅ νƒ€μ… λ€μ‹  repeated ν•„λ“λ¥Ό μ‚¬μ©ν•λ‹¤.
- repeated ν•„λ“λ” λ™μΌν• ν•„λ“ νƒκ·Έκ°€ μ—¬λ¬ λ² λ“±μ¥ν•λ” λ°©μ‹μΌλ΅ λ¶€νΈν™”λλ‹¤.
- optional ν•„λ“λ¥Ό repeated ν•„λ“λ΅ λ³€κ²½ν•΄λ„ νΈν™μ„±μ΄ μ μ§€λλ‹¤.

### 9.2 Thriftμ νΉμ§•

- λ…μ‹μ μΈ λ¦¬μ¤νΈ νƒ€μ…μ„ μ κ³µν•λ‹¤.
- μ¤‘μ²© λ¦¬μ¤νΈλ¥Ό μ§€μ›ν•λ‹¤.
- λ‹¨μΌ κ°’μ—μ„ λ‹¤μ¤‘ κ°’μΌλ΅μ λ³€κ²½μ—λ” μ μ•½μ΄ μλ‹¤.

---

## 10. μ•„λΈλ΅(Avro)

μ•„λΈλ΅λ” λ λ‹¤λ¥Έ μ΄μ§„ λ¶€νΈν™” ν•μ‹μ΄λ‹¤.

### 10.1 μ•„λΈλ΅μ νΉμ§•

- ν•„λ“ νƒκ·Έλ¥Ό μ‚¬μ©ν•μ§€ μ•λ”λ‹¤.
- μ¤ν‚¤λ§μ— μ •μλ ν•„λ“ μμ„κ°€ μ¤‘μ”ν•λ‹¤.
- λ™μΌν• λ°μ΄ν„°λ¥Ό κ°€μ¥ μ§§μ€ ν¬κΈ°(μ•½ 32λ°”μ΄νΈ)λ΅ λ¶€νΈν™”ν•  μ μλ‹¤.

μ•„λΈλ΅λ΅ λ¶€νΈν™”λ λ°μ΄ν„°λ¥Ό μ½μΌλ ¤λ©΄ μ¤ν‚¤λ§λ¥Ό μ•κ³  μμ–΄μ•Ό ν•λ©°,

μ“°κΈ° μ¤ν‚¤λ§μ™€ μ½κΈ° μ¤ν‚¤λ§κ°€ λ‹¤λ¥Ό μ μλ‹¤.

---

## 11. μ•„λΈλ΅μ νΈν™μ„± μ „λµ

### 11.1 ν•μ„ νΈν™μ„±

- μƒλ΅ μ¶”κ°€λλ” ν•„λ“λ” κΈ°λ³Έκ°’μ„ κ°€μ Έμ•Ό ν•λ‹¤.
- μƒλ΅μ΄ μ½”λ“κ°€ μμ „ λ°μ΄ν„°λ¥Ό λ¬Έμ μ—†μ΄ μ½μ„ μ μλ‹¤.

### 11.2 μƒμ„ νΈν™μ„±

- μμ „ ν•„λ“λ¥Ό μ κ±°ν•λ”λΌλ„ μ½κΈ° μ¤ν‚¤λ§μ—μ„ λ¬΄μ‹ν•  μ μλ‹¤.
- μμ „ μ½”λ“κ°€ μƒλ΅μ΄ λ°μ΄ν„°λ¥Ό μ½μ„ μ μλ‹¤.

μ΄ λ°©μ‹μ€ Kafka κ°™μ€ μ΄λ²¤νΈ μ¤νΈλ¦¬λ° μ‹μ¤ν…μ—μ„ λ§¤μ° ν¨κ³Όμ μ΄λ‹¤.

---

## 12. λ¶€νΈν™” ν•μ‹ μ„ νƒ κ°€μ΄λ“

- μ™Έλ¶€ κ³µκ° API: JSON
- λ‚΄λ¶€ μ„λΉ„μ¤ κ°„ ν†µμ‹ : Protobuf, Thrift
- λ€κ·λ¨ λ°μ΄ν„° νμ΄ν”„λΌμΈ: Avro
- λ©”μ‹μ§€ ν, μ΄λ²¤νΈ μ¤νΈλ¦Ό: Avroμ™€ μ¤ν‚¤λ§ κ΄€λ¦¬ λ„κµ¬


---
